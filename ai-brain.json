{
  "project": {
    "name": "PHPaibot",
    "description": "A proactive PHP chatbot that simulates human-like thinking by generating thoughts, maintaining memory, and evolving personality with news-aware emotional intelligence",
    "version": "0.3.0",
    "repository": "https://github.com/username/PHPaibot",
    "status": "Phase 2 Complete - Dynamic thought generation with news integration"
  },
  "architecture": {
    "overview": "Hybrid push/pull chat system with QDRANT vector database, news processing, and emotional state tracking. Uses remote Ollama endpoint for LLM and embeddings. Proactive thoughts are dynamically generated and influenced by current events.",
    "components": {
      "conversationalLoop": {
        "description": "Fast, reactive chat system using QDRANT vector database for semantic search.",
        "implementation": "Node.js backend handles chat requests, retrieves context from QDRANT, and calls remote LLM.",
        "files": ["webhook-api/server.js", "index.html"],
        "status": "Implemented"
      },
      "cognitiveLoop": {
        "description": "Dynamic thought generation system that creates contextual, news-aware proactive thoughts.",
        "implementation": "LLM-powered thought generation with 30% chance of news-influenced thoughts. Separates proactive thoughts from conversational responses.",
        "status": "Implemented"
      },
      "memorySystem": {
        "description": "QDRANT vector database for semantic conversation storage and retrieval.",
        "implementation": "Stores conversations and news context with 1024-dimensional embeddings. Supports semantic search and filtering.",
        "status": "Implemented"
      },
      "newsProcessing": {
        "description": "Automated news feed processing with emotional analysis and mood tracking.",
        "implementation": "Processes BBC RSS feeds every 30 minutes, analyzes sentiment, updates mood state (-10 to +10), and stores context in QDRANT.",
        "files": ["webhook-api/news-processor.js", "webhook-api/news-data.json"],
        "status": "Implemented"
      },
      "emotionalIntelligence": {
        "description": "Mood system that tracks AI emotional state based on news sentiment.",
        "implementation": "Maintains mood score (-10 to +10) and topic memory. Influences thought generation and conversation style.",
        "status": "Implemented"
      },
      "infrastructureComponents": {
        "description": "Docker-based infrastructure with external service integration.",
        "implementation": "Docker Compose with QDRANT, SearxNG, and remote Ollama integration.",
        "components": [
          {"name": "QDRANT vector database", "status": "Implemented", "url": "http://192.168.5.227:6333/"},
          {"name": "SearxNG RSS parser", "status": "Implemented", "url": "http://192.168.5.227:4040/"},
          {"name": "Remote Ollama endpoint", "status": "Implemented"},
          {"name": "Node.js webhook API", "status": "Implemented"},
          {"name": "PHP Web server", "status": "Implemented"}
        ],
        "status": "Partially Provisioned - requires external services"
      }
    }
  },
  "developmentPlan": {
    "currentPhase": 3,
    "phases": [
      {
        "number": 1,
        "name": "Infrastructure Setup & Core Conversational Loop",
        "description": "Deploy infrastructure and implement basic chat functionality with memory.",
        "tasks": [
          {"name": "Create Docker Compose configuration", "status": "Completed"},
          {"name": "Implement WebSocket push-based frontend", "status": "Completed"},
          {"name": "Implement Node.js backend with API and WebSocket server", "status": "Completed"},
          {"name": "Externalize AI models to remote Ollama endpoint", "status": "Completed"},
          {"name": "Integrate QDRANT vector database", "status": "Completed"},
          {"name": "Implement conversational memory with context retrieval", "status": "Completed"},
          {"name": "Implement idle timer for proactive thoughts", "status": "Completed"}
        ],
        "deliverables": ["Working chatbot with contextual memory and proactive engagement."],
        "status": "Completed"
      },
      {
        "number": 2,
        "name": "The Thinker",
        "description": "Implement dynamic proactive thought generation with news awareness.",
        "tasks": [
          {"name": "Replace hardcoded thought list with dynamic LLM-based generation", "status": "Completed"},
          {"name": "Create news processing system for RSS feeds", "status": "Completed"},
          {"name": "Implement emotional state tracking and mood system", "status": "Completed"},
          {"name": "Integrate news sentiment analysis into thought generation", "status": "Completed"},
          {"name": "Separate proactive thoughts from conversational responses", "status": "Completed"},
          {"name": "Add automated news processing with cron scheduling", "status": "Completed"}
        ],
        "deliverables": ["Chatbot that initiates conversations based on current events and emotional state."],
        "status": "Completed"
      },
      {
        "number": 3,
        "name": "Personality & Evolution",
        "description": "Add adaptive personality and learning mechanisms.",
        "tasks": [
          {"name": "Add Profile store for user/bot personality traits", "status": "Planned"},
          {"name": "Create feedback loops for continuous learning", "status": "Planned"},
          {"name": "Develop opinion formation mechanisms", "status": "Planned"},
          {"name": "Implement long-term memory and relationship tracking", "status": "Planned"},
          {"name": "Add personality adaptation based on user interactions", "status": "Planned"}
        ],
        "deliverables": ["Chatbot that adapts and develops personality over time."],
        "status": "In Progress"
      }
    ]
  },
  "currentCapabilities": [
    "Dynamic thought generation using LLM",
    "News-aware personality with BBC RSS integration",
    "Emotional state tracking (-10 to +10 mood scale)",
    "Context-aware conversations using QDRANT semantic search",
    "Proactive engagement with natural conversation flow",
    "Real-time WebSocket communication",
    "Automated news processing every 30 minutes",
    "Sentiment analysis and topic extraction",
    "Scalable vector database architecture"
  ],
  "apiEndpoints": [
    {"endpoint": "/api/chat", "method": "POST", "description": "Main chat interface"},
    {"endpoint": "/api/mood", "method": "GET", "description": "Check AI emotional state and topics"},
    {"endpoint": "/api/process-news", "method": "GET/POST", "description": "Trigger manual news processing"}
  ],
  "nextSteps": [
    "Implement user personality profiling and preferences",
    "Add long-term relationship memory beyond individual conversations",
    "Create opinion formation based on accumulated news and interactions",
    "Develop feedback mechanisms for continuous learning",
    "Add more diverse news sources and content types"
  ],
  "statusDetails": {
    "externalServices": {
      "qdrant": "Specify QDRANT_URL (e.g. http://host:6333) - required",
      "llm": "Specify LLM_URL (OpenAI-compatible) - required",
      "embeddings": "Specify EMBEDDING_URL (OpenAI-compatible) - required",
      "searxng": "Optional - URL for RSS parsing if used"
    },
    "requiredEnv": [
      "LLM_URL",
      "EMBEDDING_URL",
      "QDRANT_URL",
      "PORT (optional)",
      "DEBUG flags as needed"
    ],
    "notes": "This project expects external services for LLM, embeddings, and vector DB. Ensure these are reachable and properly configured before running the webhook API."
  },
  "lastUpdated": "2025-11-17T12:30:00Z"
}
